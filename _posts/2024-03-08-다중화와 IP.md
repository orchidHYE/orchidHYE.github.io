---
layout: post
title: 다중화와 IP
date: 2024-03-08 15:44 +0900
categories:
  - Network
tags: 
math: true
---

![](https://i.imgur.com/ALYOUm0.png)

# **네트워크 구조**

#### **방화벽 (Firewall)**
- 네트워크 보안 장치
- 네트워크를 보호하고 외부로부터의 불법적인 접근을 방지

#### **DMZ (Demilitarized Zone)**
- 내부 네트워크와 외부 네트워크 사이에 존재하는 중간 영역
- 외부에서 접근 가능한 서비스나 시스템을 배치하여, 내부 네트워크의 보안을 유지하면서 외부와의 통신을 허용
- 웹 서버, 이메일 서버, VPN 게이트웨이 등이 배치될 수 있으며, 이는 외부에서 접근 가능하되, 내부 네트워크로 직접적인 접근 불가
- 내/외부 네트워크 간의 보안 간격을 만들어 안전한 통신 가능케 함

#### **내부망 (Internal Network)** 
- 조직 내부에서 사용되는 네트워크
- 보통 내부망에는 조직의 내부 시스템, 데이터베이스, 파일 서버 등이 배치
- 외부로부터 격리되어 있으며, 중요한 데이터와 리소스에 대한 접근을 허용하고, 보안 정책에 따라 접근 권한 관리
- 조직 내부 작업 및 통신 지원, 외부와의 연결을 통해 외부 네트워크와 통신
<br/><br/><br/><br/><br/><br/>
![](https://i.imgur.com/tYBZxOe.png)
# **다중화**

- 다중화란, 장애가 발생할 경우를 대비하여 예비 운용장비로 시스템 기능을 계속할 수 있도록 하는 것을 말한다.
 - **WAS의 다중화** 
	- WAS 다운으로 인한 피해를 대비하여 WAS를 여러개 준비한다.
- **DB의 다중화**
	- **Active - Active**
		- 두 서버 모두 활성화 되어 동작하다.
		- Active - Standby에 비해 처리률이 높지만, 설정 및 구성이 복잡해진다는 단점이 있다.
	- **Active - Standby**
		- **Active 서버**와 **Standby 서버**로 분류한다.
		- Active 서버에 문제가 생길 시, Standby 서버를 사용하고 역할이 바뀌게 된다.
		- Active 서버에서 데이터 업데이트가 생길 시 **데이터 동기화 (미러링)**가 진행되어  Standby 서버에도 업데이트 돼 두 서버의 데이터가 일관되게 유지된다.

# **L4 스위치**
- Layer 4 Switch
- 로드밸런싱(서버 부하 분산)을 처리하는 장비
	- 로드밸런싱은 컴퓨터 네트워크 기술의 일종이다
	- 여러개의 중앙처리장치 혹은 저장장치와 같은 컴퓨터 자원들에게 작업을 나누는 것을 의미한다.
	- 로드밸런싱의  종류
		- Round Robin
			- 순차적으로 진행
		- Least Connection
			- 연결된 connection이 적은 것부터
		- Fastest Response Time
			- 응답이 빠른순
			- 관리하고 있는 모든 서버에 요청을 보내고, 먼저 응답이 온 서버로 접속하게 한다.
		- Source Hash Scheduling
			- 사용자 IP에 따라 다르게 접속하게 한다.
- 외부에서 들어오는 모든 요청을 L4 스위치가 받아 서버에게 적절이 나눈다.
- TCP, UDP 등의 헤더를 분석하여 FTP, HTTP, SMTP등의 프로토콜 확인 후 스위칭의 우선순위를 판단한다.



> *L4란 OSI 7 Layer 중, Transport Layer에 해당하는 것을 말한다.
![](https://i.imgur.com/JoK6XG5.png)
>#### OSI 7 Layer
>- 네트워크에서 통신이 일어나는 과정을 7단계로 나눈 것을 말한다.
>- OSI 7 계층을 나눈 이유
>	- 통신이 일어나는 과정을 단계별로 파악하기 위해
>	- 흐름을 한눈에 보고, 사람들이 이해하기 쉽게하기 위해
>	- 7단계 중 특정한 곳에 이상이 생긴다면, 다른 단계의 장비 및 소프트웨어를 건들지 않고 이상이 생긴 단계만 고칠 수 있다.

<br/><br/><br/><br/><br/><br/>

# **IP (Internet Protocol)**
- 인터넷에 연결되어 있는 모든 장치(서버, 컴퓨터, 네트워크 장비 )를 식별할 수 있도록 각각의 장비에 부여되는 고유 주소이다.
- IP는 주소와 ID역할을 한다.
	- 다른 장치에 접속 하려 할 때, IP주소를 알아야한다.

#### **Public IP**
- 인터넷 사용자의 로컬 네트워크를 식별하기 위해 ISP(인터넷 서비스 공급자)가 제공하는 IP주소이다.
- 공용 IP 주소라고도 불리며 외부에 공개되어 있는 IP 주소이다.

#### **Private IP**
- 일반 가정이나 회사 내 등에 할당된 네트워크의 IP 주소이며 로컬 IP, 가상 IP라고도 한다.
- IPv4의 주소 부족으로 인해 서브넷팅된 IP이기 때문에 라우터에 의해 로컬 네트워크상의 PC나 장치에 할당된다.

#### **Public IP vs Private IP**

|       | Public IP         | Private IP      |
| ----- | ----------------- | --------------- |
| 할당 주체 | ISP(인터넷 서비스 공급자)  | 라우터(공유기)        |
| 할당 대상 | 개인 또는 회사의 서버(라우터) | 개인 또는 회사의 기기    |
| 고유성   | 인터넷 상에서 유일한 주소    | 하나의 네트워크 안에서 유일 |
| 공개여부  | 내/외부 접근 가능        | 외부 접근 불가능       |
