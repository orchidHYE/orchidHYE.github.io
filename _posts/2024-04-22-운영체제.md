---
layout: post
title: "[운영체제] 운영체제의 큰 그림"
date: 2024-04-22 15:17 +0900
categories:
  - CS
  - OS
tags: 
math: true
---
>###### 들어가기 전
>###### 커널(Kernel)
>![](https://i.imgur.com/RafVjnQ.png)
>- 커널은 운영체제의 핵심 부분이다.
>- 하드웨어와 소프트웨어 간의 가교 역할
>- 커널의 주요 기능
>	- 메모리 관리
>	- 프로세스 관리
>	- 파일 시스템 관리
>	- 장치 드라이버 관리
>	- 시스템 보안
>	`UI(User Interface)는 운영체제에는 속하지만 커널에는 속하지 않는다. 사용자와 컴퓨터 간의 통로일 뿐 커널은 아니다.`
>
>###### 이중모드와 시스템 호출
>###### 이중 모드
>- CPU가 명령어를 실행하는 모드를 크게 **사용자 모드**와 **커널 모드**로 구분하는 방식<br/>
>`위와 같이 모드를 구분하는 이유는, 일반 '응용 프로그램'은 하드웨어에 직접 접근하지 않고 운영체제를 통해 접근해야하기 때문이다.`<br/>
>![](https://i.imgur.com/uhd4iNj.png)
>- **사용자 모드**
>	- 운영체제 서비스를 제공받을 수 없는 실행 모드
>	- 커널 영역의 코드를 실행할 수 없는 실행 모드
>	- 자원 접근 불가
>- **커널 모드**
>	- 운영체제의 서비스를 제공받을 수 있는 실행 모드
>	- 자원 접근을 비롯한 모든 명령어 실행 가능
>
>	`플래그 레지스터 중 '슈퍼바이저 플래그'에 커널 모드로 실행 중인지, 사용자 모드로 실행 중인지 구분하는 값이 담긴다. (커널 모드일 시 1, 사용자 모드일 시 0)`<br/>
>###### 그렇다면 사용자 모드와 커널 모드는 어느 시점을 기준으로 전환되는 것인가.
>###### 시스템 호출
>![](https://i.imgur.com/hPMcGok.png)
>- 커널 모드로 전환하여 실행하기 위해 호출
>- 일종의 소프트웨어 인터럽트
>	- 시스템 호출이 처리되는 방식은 하드웨어 인터럽트 처리 방식과 유사
>	![](https://i.imgur.com/SiWjeWT.png)
>	- 커널 모드와 사용자 모드의 전환이 빈번하게 일어난다.
>	![](https://i.imgur.com/kmdD4yD.png)
><br/><br/>
>
| 종류   | 시스템 호출   | 설명   |
| ---- | ---- | ---- |
| 프로세스 관리| fork() | 새 자식 프로세스 생성 |
| | execve() | 프로세스 실행(메모리 공간을 새로운 프로그램의 내용으로 덮어 씌움) |
| | exit() | 프로세스 종료 |
| | waitpid() | 자식 프로세스가 종료할 때까지 대기 |
| 파일 관리 | open() | 파일 열기 |
|  | close() | 파일 닫기 |
|  | read() | 파일 읽기 |
|  | write() | 파일 쓰기 |
|  | stat() | 파일 정보 획득 |
| 디렉터리 관리 | chdir() | 작업 디렉터리 변경 |
|  | mkdir() | 디렉터리 생성 |
|  | rmdir() | 비어있는 디렉터리 삭제 |
| 파일 시스템 관리 | mount() | 파일 시스템 마운트 |
|  | umount() | 파일 시스템 마운트 해제 |

## 운영체제의 핵심 서비스
#### 프로세스 관리
- 프로세스 == 실행 중인 프로그램
- 수많은 프로세스들이 동시에 실행
- ![](https://i.imgur.com/MtxmJV2.png)
	- 실제로 `작업 관리자 - 프로세스` 탭을 확인해 보면 수많은 프로그램들이 실행중이다.
	- 하지만 여기서 **실행중인 모든 프로그램이 메모리에 적재되어 있지는 않다.**
	- 이를 운영체제의 `페이징(paging)`, `스와핑(swapping)` 기법이라고 한다.
- 동시다발적으로 생성/실행/삭제되는 다양한 프로세스를 **일목요연하게 관리**
	- 프로세스와 스레드
	- 프로세스 동기화
	- 교착상태 해결

#### 자원 접근 및 할당
- CPU
	- CPU 스케줄링
		- 어떤 프로세스를 먼저, 얼마나 오래 실행할까?
- 메모리
	- 페이징
	- 스와핑
- 입출력장치

#### 파일 시스템 관리
- 관련된 정보를 파일이라는 단위로 저장 장치에 보관
- 파일들을 묶어 폴어 단위로 저장 장치에 보관



